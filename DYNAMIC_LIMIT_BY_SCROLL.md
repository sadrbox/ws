# üìè –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ª–∏–º–∏—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –≤—ã—á–∏—Å–ª—è–µ—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ª–∏–º–∏—Ç **–Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏**, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–æ–º–µ–∂—É—Ç–∫–∞ –º–µ–∂–¥—É –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º –∏ –≤–∏–¥–∏–º—ã–º.

## –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞

### –¢–∞–±–ª–∏—Ü–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: scrollTop ‚Üí limit

```
–ü–æ–∑–∏—Ü–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ (—Å—Ç—Ä–æ–∫)    –ó–∞–≥—Ä—É–∂–∞–µ–º—ã–π –ª–∏–º–∏—Ç    –ü—Ä–∏—á–∏–Ω–∞
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
0-200 —Å—Ç—Ä–æ–∫                  100 —Å—Ç—Ä–æ–∫            –ù–∞—á–∞–ª–æ —Ç–∞–±–ª–∏—Ü—ã
200-500 —Å—Ç—Ä–æ–∫                200 —Å—Ç—Ä–æ–∫            –ú–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞–∑–≥–æ–Ω—è–µ–º—Å—è
500-1000 —Å—Ç—Ä–æ–∫               300 —Å—Ç—Ä–æ–∫            –°—Ä–µ–¥–Ω–∏–π —Ç–µ–º–ø
1000-2000 —Å—Ç—Ä–æ–∫              400 —Å—Ç—Ä–æ–∫            –ë—ã—Å—Ç—Ä—ã–π —Ç–µ–º–ø
>2000 —Å—Ç—Ä–æ–∫                  500 —Å—Ç—Ä–æ–∫            –ú–∞–∫—Å–∏–º—É–º
```

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ–∫—Ä—É—Ç–∫–∏

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∏–Ω–∞–µ—Ç –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞—Ç—å:

1. scrollTop = 0px (0 —Å—Ç—Ä–æ–∫)
   ‚îî‚îÄ –ó–∞–≥—Ä—É–∂–∞–µ–º: 100 —Å—Ç—Ä–æ–∫ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π)

2. scrollTop = 300px (~10 —Å—Ç—Ä–æ–∫ –≤–∏–¥–Ω–æ)
   ‚îî‚îÄ –ó–∞–≥—Ä—É–∂–∞–µ–º: 100 —Å—Ç—Ä–æ–∫ (–≤—Å—ë –µ—â—ë –≤ –Ω–∞—á–∞–ª–µ)

3. scrollTop = 5000px (~180 —Å—Ç—Ä–æ–∫ –≤–∏–¥–Ω–æ)
   ‚îî‚îÄ –ó–∞–≥—Ä—É–∂–∞–µ–º: 200 —Å—Ç—Ä–æ–∫ (–ø–æ–ø–∞–ª–∏ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω 200-500)

4. scrollTop = 10000px (~360 —Å—Ç—Ä–æ–∫ –≤–∏–¥–Ω–æ)
   ‚îî‚îÄ –ó–∞–≥—Ä—É–∂–∞–µ–º: 300 —Å—Ç—Ä–æ–∫ (–ø–æ–ø–∞–ª–∏ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω 500-1000)

5. scrollTop = 25000px (~900 —Å—Ç—Ä–æ–∫ –≤–∏–¥–Ω–æ)
   ‚îî‚îÄ –ó–∞–≥—Ä—É–∂–∞–µ–º: 400 —Å—Ç—Ä–æ–∫ (–ø–æ–ø–∞–ª–∏ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω 1000-2000)

6. scrollTop = 50000px (~1800 —Å—Ç—Ä–æ–∫ –≤–∏–¥–Ω–æ)
   ‚îî‚îÄ –ó–∞–≥—Ä—É–∂–∞–µ–º: 500 —Å—Ç—Ä–æ–∫ (–º–∞–∫—Å–∏–º—É–º, >2000)
```

## –ö–∞–∫ —ç—Ç–æ —Å–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏?

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–¥–ª–µ–Ω–Ω–æ —Å–∫—Ä–æ–ª–ª–∏—Ç —Ç–∞–±–ª–∏—Ü—É

```
scrollTop –º–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞—Å—Ç—ë—Ç: 0 ‚Üí 100 ‚Üí 200 ‚Üí 300 ...
‚îî‚îÄ –õ–∏–º–∏—Ç –æ—Å—Ç–∞—ë—Ç—Å—è 100 (—ç–∫–æ–Ω–æ–º–∏–º —Ç—Ä–∞—Ñ–∏–∫ –ø—Ä–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º —Å–∫—Ä–æ–ª–ª–µ)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç —Å–∫—Ä–æ–ª–±–∞—Ä –Ω–∞ –∫–æ–Ω–µ—Ü

```
scrollTop —Å–∫–∞—á–∫–æ–º: 0 ‚Üí 50000px (–ø–µ—Ä–µ–ø—Ä—ã–≥–Ω—É–ª –Ω–∞ –∫–æ–Ω–µ—Ü!)
‚îî‚îÄ –õ–∏–º–∏—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è 500 (–∑–∞–≥—Ä—É–∂–∞–µ–º –º–∞–∫—Å–∏–º—É–º —Å—Ä–∞–∑—É!)
‚îî‚îÄ –≠–∫—Ä–∞–Ω –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞ 1-2 –∑–∞–ø—Ä–æ—Å–∞ –≤–º–µ—Å—Ç–æ 10+
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä—ã–≥–∞–µ—Ç –≤–Ω–∏–∑

```
scrollTop: 0 ‚Üí 5000px ‚Üí 10000px ‚Üí 15000px
‚îî‚îÄ –õ–∏–º–∏—Ç—ã: 100 ‚Üí 200 ‚Üí 300 ‚Üí 400 (–ø–ª–∞–≤–Ω–æ —Ä–∞—Å—Ç—ë—Ç)
‚îî‚îÄ –≠–∫—Ä–∞–Ω –≤—Å–µ–≥–¥–∞ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±—ã—Å—Ç—Ä–æ
```

## –ü–æ—Ä–æ–≥–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –ø–æ—Ä–æ–≥–∏, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –≤ `w:\app\frontend\src\components\Table\index.tsx` –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `checkAndFetch()`:

```typescript
if (scrollDistanceInRows > 2000) {
	newAdaptiveLimit = 500; // ‚Üê –ú–µ–Ω—è—Ç—å –º–∞–∫—Å–∏–º—É–º –∑–¥–µ—Å—å
} else if (scrollDistanceInRows > 1000) {
	newAdaptiveLimit = 400; // ‚Üê –ò –∑–¥–µ—Å—å
} else if (scrollDistanceInRows > 500) {
	newAdaptiveLimit = 300;
} else if (scrollDistanceInRows > 200) {
	newAdaptiveLimit = 200;
} else {
	newAdaptiveLimit = 100;
}
```

### –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (>10Mbps)

```typescript
if (scrollDistanceInRows > 1000) {
	newAdaptiveLimit = 800; // –ï—â–µ –±–æ–ª—å—à–µ
} else if (scrollDistanceInRows > 500) {
	newAdaptiveLimit = 600;
} else if (scrollDistanceInRows > 200) {
	newAdaptiveLimit = 300;
} else {
	newAdaptiveLimit = 150;
}
```

### –î–ª—è –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (2G/3G)

```typescript
if (scrollDistanceInRows > 3000) {
	newAdaptiveLimit = 300; // –ú–µ–Ω—å—à–µ
} else if (scrollDistanceInRows > 1500) {
	newAdaptiveLimit = 250;
} else if (scrollDistanceInRows > 500) {
	newAdaptiveLimit = 200;
} else {
	newAdaptiveLimit = 100;
}
```

## –ö–æ–º–±–∏–Ω–∞—Ü–∏—è —Å –ø—Ä–æ–º–µ–∂—É—Ç–∫–æ–º

–°–∏—Å—Ç–µ–º–∞ —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç **–ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –º–µ–∂–¥—É –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º –∏ –≤–∏–¥–∏–º—ã–º**:

```typescript
if (gapBetweenLoadedAndVisible > 300) {
	// –û—á–µ–Ω—å –±–æ–ª—å—à–æ–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ ‚Äî –º–∏–Ω–∏–º—É–º 300 —Å—Ç—Ä–æ–∫
	newAdaptiveLimit = Math.max(300, newAdaptiveLimit);
}
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –Ω–∞—á–∞–ª–µ —Ç–∞–±–ª–∏—Ü—ã (scrollTop = 50), –Ω–æ –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ > 300 —Å—Ç—Ä–æ–∫, –º—ã –≤—Å—ë —Ä–∞–≤–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ–º 300 —Å—Ç—Ä–æ–∫.

## –§–æ—Ä–º—É–ª–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è scrollDistanceInRows

```typescript
const scrollDistanceInRows = Math.floor(el.scrollTop / ROW_HEIGHT);
```

–ì–¥–µ:

- **el.scrollTop** = —Ç–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –≤ –ø–∏–∫—Å–µ–ª—è—Ö
- **ROW_HEIGHT** = 28px (–≤—ã—Å–æ—Ç–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏)

**–ü—Ä–∏–º–µ—Ä—ã:**

- scrollTop = 0px ‚Üí scrollDistanceInRows = 0 —Å—Ç—Ä–æ–∫
- scrollTop = 28px ‚Üí scrollDistanceInRows = 1 —Å—Ç—Ä–æ–∫–∞
- scrollTop = 280px ‚Üí scrollDistanceInRows = 10 —Å—Ç—Ä–æ–∫
- scrollTop = 5600px ‚Üí scrollDistanceInRows = 200 —Å—Ç—Ä–æ–∫
- scrollTop = 56000px ‚Üí scrollDistanceInRows = 2000 —Å—Ç—Ä–æ–∫

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

### –°–ø–æ—Å–æ–± 1: DevTools Console

–î–æ–±–∞–≤—å—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `checkAndFetch()`:

```typescript
console.log({
	scrollTopPx: el.scrollTop,
	scrollDistanceInRows,
	adaptiveLimit: newAdaptiveLimit,
	gap: gapBetweenLoadedAndVisible,
});
```

–ó–∞—Ç–µ–º —Å–∫—Ä–æ–ª–ª–∏—Ç–µ –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å –∫–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è `adaptiveLimit`.

### –°–ø–æ—Å–æ–± 2: Network tab

1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network
2. –°–∫—Ä–æ–ª–ª–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É –≤–Ω–∏–∑ (–º–µ–¥–ª–µ–Ω–Ω–æ, –ø–æ—Ç–æ–º –±—ã—Å—Ç—Ä–æ)
3. –°–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤:
   - 100 —Å—Ç—Ä–æ–∫ ‚âà 30KB
   - 200 —Å—Ç—Ä–æ–∫ ‚âà 60KB
   - 300 —Å—Ç—Ä–æ–∫ ‚âà 90KB
   - 400 —Å—Ç—Ä–æ–∫ ‚âà 120KB
   - 500 —Å—Ç—Ä–æ–∫ ‚âà 150KB

–ü—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –≤–Ω–∏–∑ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Ä–∞—Å—Ç—É—â–∏–µ —Ä–∞–∑–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤.

### –°–ø–æ—Å–æ–± 3: API –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

–í Network tab –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:

```
?cursor=100&limit=100  (–Ω–∞—á–∞–ª–æ)
?cursor=200&limit=200  (—Å–µ—Ä–µ–¥–∏–Ω–∞)
?cursor=500&limit=300  (–¥–∞–ª—å—à–µ)
?cursor=800&limit=400  (–µ—â—ë –¥–∞–ª—å—à–µ)
?cursor=1200&limit=500 (–∫–æ–Ω–µ—Ü)
```

–ü–∞—Ä–∞–º–µ—Ç—Ä `limit` –¥–æ–ª–∂–µ–Ω —Ä–∞—Å—Ç–∏ —Å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫–∏.

## –ö–æ–≥–¥–∞ —ç—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç?

### ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–ø—Ä—ã–≥–∏–≤–∞–µ—Ç –Ω–∞ —Å—Ç—Ä–æ–∫—É 5000

**–ë—ã–ª–æ:**

- 10+ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ 100 —Å—Ç—Ä–æ–∫
- 300+ KB —Ç—Ä–∞—Ñ–∏–∫–∞
- –≠–∫—Ä–∞–Ω –ø—É—Å—Ç–æ–π 1-2 —Å–µ–∫—É–Ω–¥—ã

**–¢–µ–ø–µ—Ä—å:**

- 2-3 –∑–∞–ø—Ä–æ—Å–∞: –ø–µ—Ä–≤—ã–π –ø–æ 100, –≤—Ç–æ—Ä–æ–π –ø–æ 300, —Ç—Ä–µ—Ç–∏–π –ø–æ 500
- 90 KB —Ç—Ä–∞—Ñ–∏–∫–∞
- –≠–∫—Ä–∞–Ω –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞ 100-200ms

### ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫

**–ë—ã–ª–æ:**

- –ú–Ω–æ–≥–æ –º–µ–ª–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ù–µ—Ä–µ–≥—É–ª—è—Ä–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

**–¢–µ–ø–µ—Ä—å:**

- –†–∞–∑–º–µ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–∞—Å—Ç—ë—Ç –ø–ª–∞–≤–Ω–æ (100 ‚Üí 200 ‚Üí 300)
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞—è –∏ –≥–ª–∞–¥–∫–∞—è

### ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –Ω–∞ –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ (–¥–æ 10000+ —Å—Ç—Ä–æ–∫)

**–ë—ã–ª–æ:**

- 30+ –∑–∞–ø—Ä–æ—Å–æ–≤!
- –ú–æ–∂–µ—Ç –¥–∞–∂–µ —É–ø–∞—Å—Ç—å –ø—Ä–∏ –æ—á–µ–Ω—å –¥–∞–ª—å–Ω–µ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–µ

**–¢–µ–ø–µ—Ä—å:**

- 5-7 –∑–∞–ø—Ä–æ—Å–æ–≤ —Å —Ä–∞—Å—Ç—É—â–∏–º –ª–∏–º–∏—Ç–æ–º
- –ú–∞–∫—Å–∏–º—É–º 500 —Å—Ç—Ä–æ–∫ –∑–∞ —Ä–∞–∑
- –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –¥–∞–∂–µ —Å 10000+ —Å—Ç—Ä–æ–∫–∞–º–∏

## –ö–æ–≥–¥–∞ —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ù–ï –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ?

### –°—Ü–µ–Ω–∞—Ä–∏–π: –ú–µ–¥–ª–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç + –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–≥—Ä—É–∂–∞–µ–º 500 —Å—Ç—Ä–æ–∫, –Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
–£–º–µ–Ω—å—à–∏—Ç–µ –ø–æ—Ä–æ–≥–∏ –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (—Å–º. –≤—ã—à–µ)

### –°—Ü–µ–Ω–∞—Ä–∏–π: –û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —Å—Ç—Ä–æ–∫–∏ (–º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É)

**–ü—Ä–æ–±–ª–µ–º–∞:** 500 —Å—Ç—Ä–æ–∫ = 1MB+ —Ç—Ä–∞—Ñ–∏–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**
–£–º–µ–Ω—å—à–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç:

```typescript
if (scrollDistanceInRows > 2000) {
	newAdaptiveLimit = 200; // –í–º–µ—Å—Ç–æ 500
}
```

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –∫–æ–¥–µ

**–§–∞–π–ª:** `w:\app\frontend\src\components\Table\index.tsx`

```typescript
const checkAndFetch = useCallback(() => {
	// ...

	if (currentViewEnd >= loadedRowsCount - FETCH_BUFFER && hasNextPage) {
		const gapBetweenLoadedAndVisible = currentViewEnd - loadedRowsCount;
		const scrollDistanceInRows = Math.floor(el.scrollTop / ROW_HEIGHT);

		let newAdaptiveLimit = 100;

		if (scrollDistanceInRows > 2000) {
			newAdaptiveLimit = 500;
		} else if (scrollDistanceInRows > 1000) {
			newAdaptiveLimit = 400;
		} else if (scrollDistanceInRows > 500) {
			newAdaptiveLimit = 300;
		} else if (scrollDistanceInRows > 200) {
			newAdaptiveLimit = 200;
		}

		if (gapBetweenLoadedAndVisible > 300) {
			newAdaptiveLimit = Math.max(300, newAdaptiveLimit);
		}

		actions.setAdaptiveLimit?.(newAdaptiveLimit);
		queryClient.cancelQueries();
		fetchNextPage();
	}
}, [
	hasNextPage,
	isFetchingNextPage,
	actions,
	scrollRef,
	rows.length,
	queryClient,
]);
```

---

**–í–µ—Ä—Å–∏—è:** 2.0  
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 16 —Ñ–µ–≤—Ä–∞–ª—è 2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–∫—Ç–∏–≤–Ω–æ
